{% macro optionsList(short, i) %}
<div class="col-xs-2">
    <div class="list-group">
        <a href="#" class="list-group-item list-group-item-success" data-toggle="modal" data-target="#{{short}}_scm_modal_{{i}}"><span class="glyphicon glyphicon-leaf"></span> SCM</a>
        <a href="#" class="list-group-item list-group-item-info" onClick="event.preventDefault(); makeEditable('{{short}}', {{i}});"><span class="glyphicon glyphicon-pencil"></span> Edit</a>
        <a href="#" class="list-group-item list-group-item-danger" onClick="event.preventDefault(); setDeleted('{{short}}', {{i}});"><span class="glyphicon glyphicon-trash"></span> Trash</a>
    </div>
</div>
{% endmacro %}

{% macro displayURI(uri) %}
    {% if uri %}
        <p class="form-control-static">uri</p>
    {% else %}
        <p class="form-control-static" style="color: #777">none</p>
    {% endif %}
{% endmacro %}

{% macro scmButton(short, i) %}
<div class="col-xs-2">
    <button type="button" class="btn btn-default" data-toggle="modal"
    data-target="#{{short}}_scm_modal_{{i}}">
    <span class="glyphicon glyphicon-leaf"></span> SCM
</button>
</div>
{% endmacro %}

{% macro scmOptionsList(short, i, j) %}
<div class="col-xs-2">
    <div class="list-group text-center">
        <a href="#" class="list-group-item list-group-item-info" onClick="event.preventDefault(); makeSCMEditable('{{short}}', {{i}}, {{j}});"><span class="glyphicon glyphicon-pencil"></span></a>
        <a href="#" class="list-group-item list-group-item-danger" onClick="event.preventDefault(); setSCMDeleted('{{short}}', {{i}}, {{j}});"><span class="glyphicon glyphicon-trash"></span></a>
    </div>
</div>
{% endmacro %}

{% macro scmModal(short, i, title, type, data) %}
    {% import _self as widgets %}   
<div class="modal fade" id="{{short}}_scm_modal_{{i}}" tabindex="-1"
	role="dialog" aria-labelledby="{{short}}_scm_modal_label_{{i}}">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="scm_{{short}}_modal_label_{{i}}">SNAC Control Metadata</h4>
			</div>
			<div class="modal-body col-xs-12">
				<ol class="breadcrumb">
					<li>{{type}}</li>
					<li>{{title}}</li>
				</ol>
				<div class="col-xs-12 text-center">
					<button class="btn btn-success">
						<span class="glyphicon glyphicon-plus"></span> Add New SNAC Control Metadata
					</button>
				</div>
				<div class="col-xs-12">

                    {% set j = 0 %}
                    {% for scm in data.snacControlMetadata %}
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <input id="scm_{{short}}_id_{{j}}_{{i}}" name="scm_{{short}}_id_{{j}}_{{i}}" type="hidden" value="{{ scm.id }}"/>
                            <input id="scm_{{short}}_version_{{j}}_{{i}}" name="scm_{{short}}_version_{{j}}_{{i}}" type="hidden" value="{{ scm.version }}"/>
                            <input id="scm_{{short}}_operation_{{j}}_{{i}}" name="scm_{{short}}_operation_{{j}}_{{i}}" type="hidden" value=""/>
                            <div class="col-xs-10">
                                <div class="form-group">
                                    <label for="scm_{{short}}_sourceData_{{j}}_{{i}}" class="control-label col-xs-4">
                                        Source Data
                                    </label>
                                    <div class="col-xs-8">
                                        <textarea id="scm_{{short}}_sourceData_{{j}}_{{i}}" name="scm_{{short}}_sourceData_{{j}}_{{i}}" class="form-control" readonly>{{ scm.sourceData }}</textarea>
                                    </div>
                                </div>
                                
                                
                                <div class="form-group">
                                    <label for="scm_{{short}}_subCitation_{{j}}_{{i}}" class="control-label col-xs-4">
                                        Sub Citation
                                    </label>
                                    <div class="col-xs-8">
                                        <textarea id="scm_{{short}}_subCitation_{{j}}_{{i}}" name="scm_{{short}}_subCitation_{{j}}_{{i}}" class="form-control" readonly>{{ scm.subCitation }}</textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-xs-4">
                                        Descriptive Rule
                                        </label>
                                    <div class="col-xs-8" id="select_scm_{{short}}_descriptiveRule_{{j}}_{{i}}">
                                        <input id="scm_{{short}}_descriptiveRule_id_{{j}}_{{i}}" name="scm_{{short}}_descriptiveRule_id_{{j}}_{{i}}" type="hidden" class="form-control" value="{{ scm.descriptiveRule.id }}"/>
                                        <input id="scm_{{short}}_descriptiveRule_term_{{j}}_{{i}}" name="scm_{{short}}_descriptiveRule_term_{{j}}_{{i}}" type="hidden" class="form-control" value="{{ scm.descriptiveRule.term }}"/>
                                        <input id="scm_{{short}}_descriptiveRule_vocabtype_{{j}}_{{i}}" name="scm_{{short}}_descriptiveRule_vocabtype_{{j}}_{{i}}" type="hidden" class="form-control" value="descriptive_rule"/>
                                        <input id="scm_{{short}}_descriptiveRule_minlength_{{j}}_{{i}}" name="scm_{{short}}_descriptiveRule_minlength_{{j}}_{{i}}" type="hidden" class="form-control" value="0"/>
                                        <p class="form-control-static">{{ scm.language.language.term }}</p>
                                    </div>
                                </div>

                                <input type="hidden" id="scm_{{short}}_language_id_{{j}}_{{i}}" name="scm_{{short}}_language_id_{{j}}_{{i}}" value="{{source.language.id}}"/>
                                <input type="hidden" id="scm_{{short}}_language_version_{{j}}_{{i}}" name="scm_{{short}}_language_version_{{j}}_{{i}}" value="{{sources.language.version}}"/>
                                <div class="form-group">
                                    <label class="control-label col-xs-4">
                                        Language
                                    </label>
                                    <div class="col-xs-8" id="select_scm_{{short}}_languagelanguage_{{j}}_{{i}}">
                                        <input id="scm_{{short}}_languagelanguage_id_{{j}}_{{i}}" name="scm_{{short}}_languagelanguage_id_{{j}}_{{i}}" type="hidden" class="form-control" value="{{ scm.language.language.id }}"/>
                                        <input id="scm_{{short}}_languagelanguage_term_{{j}}_{{i}}" name="scm_{{short}}_languagelanguage_term_{{j}}_{{i}}" type="hidden" class="form-control" value="{{scm.language.language.term }}"/>
                                        <input id="scm_{{short}}_languagelanguage_vocabtype_{{j}}_{{i}}" name="scm_{{short}}_languagelanguage_vocabtype_{{j}}_{{i}}" type="hidden" class="form-control" value="language_code"/>
                                        <input id="scm_{{short}}_languagelanguage_minlength_{{j}}_{{i}}" name="scm_{{short}}_languagelanguage_minlength_{{j}}_{{i}}" type="hidden" class="form-control" value="0"/>
                                        <p class="form-control-static">{{ scm.language.language.term }}</p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-xs-4">
                                        Script
                                    </label>
                                    <div class="col-xs-8" id="select_scm_{{short}}_languagescript_{{j}}_{{i}}">
                                        <input id="scm_{{short}}_languagescript_id_{{j}}_{{i}}" name="scm_{{short}}_languagescript_id_{{j}}_{{i}}" type="hidden" class="form-control" value="{{ scm.language.script.id }}"/>
                                        <input id="scm_{{short}}_languagescript_term_{{j}}_{{i}}" name="scm_{{short}}_languagescript_term_{{j}}_{{i}}" type="hidden" class="form-control" value="{{ scm.language.script.term }}"/>
                                        <input id="scm_{{short}}_languagescript_vocabtype_{{j}}_{{i}}" name="scm_{{short}}_languagescript_vocabtype_{{j}}_{{i}}" type="hidden" class="form-control" value="script_code"/>
                                        <input id="scm_{{short}}_languagescript_minlength_{{j}}_{{i}}" name="scm_{{short}}_languagescript_minlength_{{j}}_{{i}}" type="hidden" class="form-control" value="0"/>
                                        <p class="form-control-static">{{ scm.language.script.term }}</p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="scm_{{short}}_note_{{j}}_{{i}}" class="control-label col-xs-4">
                                        Descriptive Note
                                    </label>
                                    <div class="col-xs-8">
                                        <textarea id="scm_{{short}}_note_{{j}}_{{i}}" name="scm_{{short}}_note_{{j}}_{{i}}" class="form-control" readonly>{{ scm.note }}</textarea>
                                    </div>
                                </div>


                            </div>
                            {{ widgets.scmOptionsList('scm_' ~ short, i, j) }}

                        </div>
                    </div>
                    {% set i = i + 1 %}
                    {% endfor %}




				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal">Done</button>
			</div>
		</div>
	</div>
</div>
{% endmacro %}
